port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: info
external-controller: :9090

proxy-providers:
  LinkCube: # 机场订阅
    type: http
    url: "https://api.linksubscribe.cc/sub?target=clash&emoji=true&url=https%3A%2F%2Flinkcube.co%2Fmodules%2Fservers%2FV2raySocks%2Fosubscribe.php%3Fsid%3D2476%26token%3DcwV8pVhFeOd8%26sip002%3D1"
    interval: 3600
    path: ./Proxy/LinkCube.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204

proxy-groups:
  - name: 默认代理
    type: select
    proxies:
      - DIRECT
      - REJECT
    use:
      - LinkCube

  - name: 广告域名
    type: select
    proxies:
      - DIRECT
      - REJECT
      - 默认代理

  - name: 被墙流量
    type: select
    proxies:
      - DIRECT
      - REJECT
      - 默认代理

  - name: Apple流量
    type: select
    proxies:
      - DIRECT
      - REJECT
      - 默认代理

  - name: Google流量
    type: select
    proxies:
      - DIRECT
      - REJECT
      - 默认代理

  - name: 国外流媒体流量
    type: select
    proxies:
      - DIRECT
      - REJECT
      - 默认代理
    use:
      - LinkCube

  - name: 局域网流量
    type: select
    proxies:
      - DIRECT
      - REJECT
      - 默认代理

  - name: 中国流量
    type: select
    proxies:
      - DIRECT
      - REJECT
      - 默认代理

rule-providers:
  不代理程序:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/hcwhan/WebFile@main/clash/config/RuleSet/process.yaml"
    path: ./RuleSet/不代理程序.yaml
    interval: 86400
  广告域名:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    path: ./RuleSet/广告域名.yaml
    interval: 86400
  GFWList域名:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt"
    path: ./RuleSet/GFWList域名.yaml
    interval: 86400
  GreatFire域名:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/greatfire.txt"
    path: ./RuleSet/GreatFire域名.yaml
    interval: 86400
  Apple域名:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt"
    path: ./RuleSet/Apple域名.yaml
    interval: 86400
  Google域名:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt"
    path: ./RuleSet/Google域名.yaml
    interval: 86400
  国外流媒体:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/DivineEngine/Profiles@master/Clash/RuleSet/StreamingMedia/Streaming.yaml"
    path: ./RuleSet/国外流媒体.yaml
    interval: 86400
  局域网IP:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"
    path: ./RuleSet/局域网IP.yaml
    interval: 86400
  中国IP:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt"
    path: ./RuleSet/中国IP.yaml
    interval: 86400

rules:
  - RULE-SET,不代理程序,DIRECT
  - RULE-SET,广告域名,广告域名
  - RULE-SET,GFWList域名,被墙流量
  - RULE-SET,GreatFire域名,被墙流量
  - RULE-SET,Apple域名,Apple流量
  - RULE-SET,Google域名,Google流量
  - RULE-SET,国外流媒体,国外流媒体流量
  - RULE-SET,局域网IP,局域网流量
  - RULE-SET,中国IP,中国流量
  - GEOIP,CN,中国流量
  - MATCH,默认代理
