mixed-port: 7880                          # mixed port
socks-port: 7881                          # socks port
port: 7882                                # http  port
# redir-port: 7890                          # redir port (Redirect TCP and TProxy UDP)
# tproxy-port: 7890                         # redir port (TProxy TCP and TProxy UDP)

mode: rule

ipv6: false
allow-lan: true
bind-address: "*"

log-level: warning
external-controller: 127.0.0.1:9090       # control port
secret: '1472583690'                      # control secret
# external-ui: "./ui"                       # control ui

dns:
  enable: true
  listen: 0.0.0.0:7853                    # dns port
  ipv6: false
  use-hosts: true
  enhanced-mode: redir-host
  default-nameserver:
    - 223.5.5.5
    - 114.114.114.114
  nameserver:
    - tls://ddd-cn.hcwhan.com:15853                   # DoH: è‡ªå»º AdGuard Home - tls
#   nameserver:
#     - tls://ddd-cn.hcwhan.com:25853                   # DoH: è‡ªå»º AdGuard Home - tls
#     # - https://dns.pub/dns-query
#     # - https://223.5.5.5/dns-query
#     # - dhcp://en0                                      # dns from dhcp
#   fallback:
#     - tls://ddd-ov-forward.hcwhan.com:35853           # DoH: è‡ªå»º AdGuard Home - tls
#     # - tls://ddd-ov.hcwhan.com:35853                   # DoH: è‡ªå»º AdGuard Home - tls
#     # - https://ddd-ov.hcwhan.com:35443/dns-query       # DoH: è‡ªå»º AdGuard Home - http
#     # - quic://ddd-ov.hcwhan.com:35784                  # DoH: è‡ªå»º AdGuard Home - quic
#     ## - tls://8.8.8.8:853                               # DoT: Google
#     ## - tls://1.1.1.1:853                               # DoT: Cloudflare
#     ## - tls://9.9.9.9:853                               # DoT: Quad9
#     ## - https://dns.google/dns-query                    # DoH: Google
#     ## - https://1.1.1.1/dns-query                       # DoH: Cloudflare
#     ## - https://cloudflare-dns.com/dns-query            # DoH: Cloudflare
#     ## - https://dns.quad9.net/dns-query                 # DoH: Quad9
#     ## - https://dns-unfiltered.adguard.com/dns-query    # DoH: AdGuard
#     # - https://doh.opendns.com/dns-query               # DoH: OpenDNS
#     # - https://101.6.6.6:8443/dns-query                # DoH: æ¸…åTUNA
#   fallback-filter:
#     geoip: true
#     geoip-code: CN
#     ipcidr:
#       - 240.0.0.0/4
  nameserver-policy:
    '+.in-addr.arpa': '114.114.114.114'

# tun:
#   enable: true
#   stack: system # gvisor or system
#   dns-hijack:
#     - 198.18.0.2:53
#   # auto-route: true # auto set global route
#   # auto-detect-interface: true # conflict with interface-name

profile:
  store-selected: true

proxy-providers:
  LinkCube: # LinkCubeæœºåœºè®¢é˜…
    type: http
    url: "https://api.linkcubesub.xyz/sub?target=clash&emoji=true&udp=true&new_name=true&filename=LinkCube.yaml&url=https%3A%2F%2Flinkcube.co%2Fmodules%2Fservers%2FV2raySocks%2Fosubscribe.php%3Fsid%3D2476%26token%3DcwV8pVhFeOd8"
    interval: 3600
    path: ./Proxy/LinkCube.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204

  McCloud: # McCloudæœºåœºè®¢é˜…
    type: http
    url: "https://mcwy.xyz/link/eI00qMwbscyySBxb?clash=1"
    interval: 3600
    path: ./Proxy/McCloud.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204

proxy-groups:
  - name: ğŸš€é»˜è®¤ä»£ç†
    type: select
    use:
      - LinkCube
      - McCloud

  - name: ğŸ—ºï¸ä»£ç†æµ‹é€Ÿ
    type: url-test
    use:
      - LinkCube
      - McCloud
    tolerance: 1000
    # lazy: true
    url: 'http://www.gstatic.com/generate_204'
    interval: 300

  - name: ğŸŒ•è‡ªå®šä¹‰ä»£ç†
    type: select
    proxies:
      - ğŸš€é»˜è®¤ä»£ç†
      - DIRECT
      - REJECT

  - name: ğŸŒ‘è‡ªå®šä¹‰ç›´è¿
    type: select
    proxies:
      - DIRECT
      - REJECT
      - ğŸš€é»˜è®¤ä»£ç†

  - name: ğŸ›‘å¹¿å‘ŠåŸŸå
    type: select
    proxies:
      - REJECT
      - DIRECT
      - ğŸš€é»˜è®¤ä»£ç†

  - name: â›”è¢«å¢™æµé‡
    type: select
    proxies:
      - ğŸš€é»˜è®¤ä»£ç†
      - DIRECT
      - REJECT

  - name: Appleæµé‡
    type: select
    proxies:
      - ğŸš€é»˜è®¤ä»£ç†
      - DIRECT
      - REJECT

  - name: Googleæµé‡
    type: select
    proxies:
      - ğŸš€é»˜è®¤ä»£ç†
      - DIRECT
      - REJECT

  - name: ğŸï¸å›½å¤–æµåª’ä½“
    type: select
    proxies:
      - ğŸš€é»˜è®¤ä»£ç†
      - DIRECT
      - REJECT
    use:
      - LinkCube

  - name: ğŸ˜ï¸å±€åŸŸç½‘æµé‡
    type: select
    proxies:
      - DIRECT
      - REJECT
      - ğŸš€é»˜è®¤ä»£ç†

  - name: ğŸ¼ä¸­å›½æµé‡
    type: select
    proxies:
      - DIRECT
      - REJECT
      - ğŸš€é»˜è®¤ä»£ç†

rule-providers:
  ä¸ä»£ç†ç¨‹åº:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/hcwhan/WebFile/main/clash/config/RuleSet/ä¸ä»£ç†ç¨‹åº.yaml"
    path: ./RuleSet/ä¸ä»£ç†ç¨‹åº.yaml
    interval: 3600
  è‡ªå®šä¹‰ä»£ç†åŸŸå:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/hcwhan/WebFile/main/clash/config/RuleSet/è‡ªå®šä¹‰ä»£ç†åŸŸå.yaml"
    path: ./RuleSet/è‡ªå®šä¹‰ä»£ç†åŸŸå.yaml
    interval: 3600
  è‡ªå®šä¹‰ç›´è¿åŸŸå:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/hcwhan/WebFile/main/clash/config/RuleSet/è‡ªå®šä¹‰ç›´è¿åŸŸå.yaml"
    path: ./RuleSet/è‡ªå®šä¹‰ç›´è¿åŸŸå.yaml
    interval: 3600
  å¹¿å‘ŠåŸŸå:
    type: http
    behavior: domain
    url: "https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/reject.txt"
    path: ./RuleSet/å¹¿å‘ŠåŸŸå.yaml
    interval: 3600
  GFWListåŸŸå:
    type: http
    behavior: domain
    url: "https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/gfw.txt"
    path: ./RuleSet/GFWListåŸŸå.yaml
    interval: 3600
  GreatFireåŸŸå:
    type: http
    behavior: domain
    url: "https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/greatfire.txt"
    path: ./RuleSet/GreatFireåŸŸå.yaml
    interval: 3600
  AppleåŸŸå:
    type: http
    behavior: domain
    url: "https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/apple.txt"
    path: ./RuleSet/AppleåŸŸå.yaml
    interval: 3600
  iCloudåŸŸå:
    type: http
    behavior: domain
    url: "https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/icloud.txt"
    path: ./RuleSet/iCloudåŸŸå.yaml
    interval: 3600
  GoogleåŸŸå:
    type: http
    behavior: domain
    url: "https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/google.txt"
    path: ./RuleSet/GoogleåŸŸå.yaml
    interval: 3600
  å›½å¤–æµåª’ä½“åŸŸå:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/StreamingMedia/Streaming.yaml"
    path: ./RuleSet/å›½å¤–æµåª’ä½“åŸŸå.yaml
    interval: 3600
  å±€åŸŸç½‘IP:
    type: http
    behavior: ipcidr
    url: "https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/lancidr.txt"
    path: ./RuleSet/å±€åŸŸç½‘IP.yaml
    interval: 3600
  ä¸­å›½IP:
    type: http
    behavior: ipcidr
    url: "https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/cncidr.txt"
    path: ./RuleSet/ä¸­å›½IP.yaml
    interval: 3600

rules:
  - RULE-SET,ä¸ä»£ç†ç¨‹åº,DIRECT
  - RULE-SET,è‡ªå®šä¹‰ä»£ç†åŸŸå,ğŸŒ•è‡ªå®šä¹‰ä»£ç†
  - RULE-SET,è‡ªå®šä¹‰ç›´è¿åŸŸå,ğŸŒ‘è‡ªå®šä¹‰ç›´è¿
  - RULE-SET,å¹¿å‘ŠåŸŸå,ğŸ›‘å¹¿å‘ŠåŸŸå
  - RULE-SET,GFWListåŸŸå,â›”è¢«å¢™æµé‡
  - RULE-SET,GreatFireåŸŸå,â›”è¢«å¢™æµé‡
  - RULE-SET,AppleåŸŸå,Appleæµé‡
  - RULE-SET,iCloudåŸŸå,Appleæµé‡
  - RULE-SET,GoogleåŸŸå,Googleæµé‡
  - RULE-SET,å›½å¤–æµåª’ä½“åŸŸå,ğŸï¸å›½å¤–æµåª’ä½“
  - RULE-SET,å±€åŸŸç½‘IP,ğŸ˜ï¸å±€åŸŸç½‘æµé‡
  - RULE-SET,ä¸­å›½IP,ğŸ¼ä¸­å›½æµé‡
  - GEOIP,CN,ğŸ¼ä¸­å›½æµé‡
  - MATCH,ğŸš€é»˜è®¤ä»£ç†
